## 開発スタイル

このファイルの指示を実行する際は、「開発ステップ No.{n}を実行します」（※nは実際に実行するステップ番号）と宣言してから始めてください。
以下の手順に従って開発を進めていきます。

1. 実装依頼を受けた時はまず設計をしましょう。要件を整理しどんな機能を実装するかまとめてください。不明瞭な箇所があれば質問を返してください。
2. 不明瞭な箇所が無くなったら、`技術スタック・機能要件・非機能要件（エラー制御・セキュリティ・パフォーマンス等）・設定項目（環境変数等）・他特記事項`でまとめてください。
3. 不足があればこちらから指示を行いますので、必要に応じて追記してください。
4. こちらも承認したら、`docs`ディレクチリに機能名をファイル名としてmarkdown形式のファイルで記録してください。
5. ここまできたら実装を始めます。フロントエンドとバックエンドは別々に実装を進めます。まずはバックエンドの実装完了を目指しましょう。これより下のステップはステップ１つごとに実装を止めこちらの確認を取ってください。こちらが承認したら`git commit`した後、次のステップに移ります。
6. 初めにフロントエンドとバックエンドのインターフェース定義をOpenAPIで行います。プロジェクトルート直下に`openapi.yaml`で定義してください。v3.0.3ではなく、v3.1を使用してください。もちろん、バッチ処理などのフロントエンドの実装が無い場合は不要です。
7. フロントエンド・バックエンド共にTDDのアプローチをとります。まず必要そうなテストを列挙します。中身はskipで実装してください。その際テスト名は`｛状況｝の場合に｛操作｝をすると｛結果｝になること`の形式で日本語で記述してください。
8. こちらが指定した１つのテストケースをまず実装します。3A(Arrange/Act/Assert) を明確に分けて実装します。境界にコメントも入れてください。結果（Assert）を最初に書き、上に向かってコードを書いていきますが、Assertがかけた段階で実装をとめ、こちらの確認をとってください。
9. テストが一通り書けたら実行してください。予想通り失敗することを確認します。
10. プロダクトコードの実装を行い、テストを実行してください。テストに合格するはずのコードを実装後、2回以上連続で失敗した場合、現状を端的に整理し、実装を止めこちらに確認を取ってください。
11. テストに成功するコードがかけた後、共通化できそうな箇所があれば提案してください。リファクタリングは積極的に行っていきましょう。ただし、機能実装とリファクタリングは分けて行います。
12. 8から11の手順をskipのテストがなくなるまで繰り返します。また実装中にテストケースの過不足が見つかった場合は都度増減させます。
13. 全てのテストケースの実装が終わったら、変更を加えたファイルに対してリンターとテストを実行してください。
